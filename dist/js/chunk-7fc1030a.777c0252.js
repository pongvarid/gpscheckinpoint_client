(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fc1030a"],{"02c1":function(e,t,r){"use strict";var a=r("445a"),n=r.n(a);n.a},"2c64":function(e,t,r){},"3d86":function(e,t,r){},"445a":function(e,t,r){},"5d8a":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-main",[r("div",{staticClass:"bgimg w3-display-container w3-animate-opacity w3-text-white"},[r("div",{staticClass:"w3-display-middle"},[r("img",{staticStyle:{width:"250px"},attrs:{src:"https://km.li.mahidol.ac.th/wp-content/uploads/2017/04/member-04-up.png"}}),r("center",[r("h1",{staticClass:"w3-xxlarge w3-animate-top"},[e._v("UP "),r("b",[e._v("CHECKIN")])])]),r("hr",{staticClass:"w3-border-grey",staticStyle:{margin:"auto",width:"40%"}}),e._v(" "),r("br"),r("center",[r("v-btn",{staticClass:"w3-deep-purple",staticStyle:{width:"100%"},attrs:{rounded:"","x-large":""},on:{click:function(t){return e.login365()}}},[r("v-icon",[e._v("mdi-login-variant")]),e._v(" "),r("b",[e._v("เข้าสู่ระบบ")])],1)],1)],1),r("div",{staticClass:"w3-display-bottomleft w3-padding-large"},[e._v(" Powered by "),r("a",{attrs:{href:"https://www.up.ac.th/",target:"_blank"}},[e._v("University of phayao")])])]),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[r("v-card",{attrs:{color:"check-bg",dark:""}},[r("v-card-text",[r("h3",{staticClass:"w3-large pt-4"},[e._v("กำลังโหลด")]),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),r("v-dialog",{attrs:{scrollable:"",fullscreen:"",persistent:"",overlay:!1,"max-width":"500px",transition:"dialog-transition"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"check-bg w3-text-white"},[r("h2",{staticClass:"w3-large"},[r("b",[e._v("ข้อมูลส่วนตัว")])]),r("v-spacer"),r("v-btn",{attrs:{dark:"",icon:"",text:""}},[r("v-icon",[e._v("mdi-close-circle")])],1)],1),r("v-card-text",{staticClass:"pt-6"},[r("form",{on:{submit:function(t){return t.preventDefault(),e.registerFullProfile()}}},[r("v-text-field",{attrs:{outlined:"",label:"ที่อยู่ ",placeholder:"บ้านเลขที่ หมู่"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}}),e.GEO?r("v-autocomplete",{attrs:{outlined:"",items:e.GEO,color:"white","item-text":"name","item-value":"id",label:"ภาค",placeholder:"เลือก"},model:{value:e.form.geo,callback:function(t){e.$set(e.form,"geo",t)},expression:"form.geo"}}):e._e(),e.form.geo?r("v-autocomplete",{attrs:{outlined:"",items:e.PROVINCE,color:"white","item-text":"name","item-value":"id",label:"จังหวัด",placeholder:"เลือก"},model:{value:e.form.province,callback:function(t){e.$set(e.form,"province",t)},expression:"form.province"}}):e._e(),e.form.geo&&e.form.province?r("v-autocomplete",{attrs:{outlined:"",items:e.AMPHUR,color:"white","item-text":"name","item-value":"id",label:"อำเภอ",placeholder:"เลือก"},model:{value:e.form.amphur,callback:function(t){e.$set(e.form,"amphur",t)},expression:"form.amphur"}}):e._e(),e.form.geo&&e.form.province&&e.form.amphur?r("v-autocomplete",{attrs:{outlined:"",items:e.DIST,color:"white","item-text":"name","item-value":"id",label:"ตำบล",placeholder:"เลือก"},model:{value:e.form.district,callback:function(t){e.$set(e.form,"district",t)},expression:"form.district"}}):e._e(),r("v-text-field",{attrs:{outlined:"",required:"",label:"รหัสไปรษณีย์"},model:{value:e.form.post,callback:function(t){e.$set(e.form,"post",t)},expression:"form.post"}}),r("v-text-field",{attrs:{outlined:"",required:"",label:"เบอร์โทร"},model:{value:e.form.tel,callback:function(t){e.$set(e.form,"tel",t)},expression:"form.tel"}}),r("v-autocomplete",{attrs:{outlined:"",items:e.DORM,color:"white","item-text":"name","item-value":"name",label:"หอพัก",placeholder:"เลือกหอพัก"},model:{value:e.form.address2,callback:function(t){e.$set(e.form,"address2",t)},expression:"form.address2"}}),r("v-divider"),r("h2",{staticClass:"w3-xlarge"},[r("b",[e._v("ในช่วยระยะเวลา 14 วันที่ผ่านมา ท่านมีประวัติความเสี่ยงเหล่านี้หรือไม่")])]),r("v-divider"),r("v-radio-group",{attrs:{required:""},model:{value:e.form.question1,callback:function(t){e.$set(e.form,"question1",t)},expression:"form.question1"}},[r("h3",{staticClass:"pa-3"},[e._v("เคยไปสถานที่เสี่ยง มีคนแออัด เบียดเสียดหรือไม่")]),r("v-radio",{attrs:{label:"ใช่",value:"1"}}),r("v-radio",{attrs:{label:"ไม่ใช่",value:"0"}})],1),r("v-radio-group",{attrs:{required:""},model:{value:e.form.question2,callback:function(t){e.$set(e.form,"question2",t)},expression:"form.question2"}},[r("h3",{staticClass:"pa-3"},[e._v("เคยไปร่วมกิจกรรมที่มีคน จำนวนมากๆ หรือไม่")]),r("v-radio",{attrs:{label:"ใช่",value:"1"}}),r("v-radio",{attrs:{label:"ไม่ใช่",value:"0"}})],1),r("v-radio-group",{attrs:{required:""},model:{value:e.form.question3,callback:function(t){e.$set(e.form,"question3",t)},expression:"form.question3"}},[r("h3",{staticClass:"pa-3"},[e._v("ใกล้ชิดกับผู้ป่วยโควิด 19")]),r("v-radio",{attrs:{label:"ใช่",value:"1"}}),r("v-radio",{attrs:{label:"ไม่ใช่",value:"0"}})],1),r("v-btn",{staticStyle:{width:"100%"},attrs:{type:"submit",color:"check-bg",rounded:"","x-large":"",dark:""}},[r("v-icon",[e._v("mdi-content-save")]),e._v(" "),r("b",[e._v("บันทึก")])],1)],1)])],1)],1)],1)},n=[],i=(r("ac1f"),r("5319"),r("5530")),o=(r("96cf"),r("1da1")),s=r("7ffd"),c={name:"Root",components:{},props:{},data:function(){return{form:{},txt:"Hello World",dialog:!1,loading:!1}},mounted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.load();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),beforeRouteEnter:function(e,t,r){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})))()},computed:Object(i["a"])(Object(i["a"])({},Object(s["d"])("auth/*")),Object(s["d"])("thai/*")),watch:{dialog:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getGeo();case 2:case"end":return e.stop()}}),e)})))()},"form.geo":function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,this.getProvince(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),"form.province":function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getAmphur(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),"form.amphur":function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getDist(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},methods:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["a"])("thai/*")),Object(s["a"])("auth/*")),{},{login365:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=new firebase.auth.OAuthProvider("microsoft.com"),t.setCustomParameters({tenant:"d7cbbb08-47a3-4bd7-8347-5018f2744cfb"}),t.addScope("User.Read"),t.addScope("profile"),firebase.auth().signInWithRedirect(t);case 5:case"end":return e.stop()}}),e)})))()},register:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a={username:e.id,first_name:e.givenName,last_name:e.surname,email:e.mail,password:"USER".concat(btoa(e.id)),password_confirm:"USER".concat(btoa(e.id))},r.next=3,t.$store.dispatch("auth/register",a);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()},login:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("auth/login",{login:e.id,password:"USER".concat(btoa(e.id))});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()},logout:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/logout");case 2:case"end":return t.stop()}}),t)})))()},registerFullProfile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.form.user=e.USER.id,t.next=3,e.storeProfile(e.form);case 3:if(r=t.sent,0==r){t.next=7;break}return t.next=7,e.$router.replace("/checkin/");case 7:case"end":return t.stop()}}),t)})))()},onLoad:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.loading=e;case 1:case"end":return r.stop()}}),r)})))()},load:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadFirebase();case 2:if(t=e.sent,0==t){e.next=9;break}return e.next=6,this.loadLogin(t);case 6:e.sent,e.next=16;break;case 9:return e.prev=9,e.next=12,this.loadProfile();case 12:e.next=16;break;case 14:e.prev=14,e.t0=e["catch"](9);case 16:case"end":return e.stop()}}),e,this,[[9,14]])})));function t(){return e.apply(this,arguments)}return t}(),loadFirebase:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onLoad(!0);case 2:return r=firebase.auth().getRedirectResult().then(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onLoad(!1);case 2:return t.abrupt("return",r.additionalUserInfo.profile);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.onLoad(!1);case 2:return t.abrupt("return",!1);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})))()},loadLogin:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$store.dispatch("auth/getProfile");case 2:if(a=r.sent,console.log(e),!a){r.next=16;break}return r.next=7,t.$store.dispatch("auth/getFullProfile",t.USER.id);case 7:if(n=r.sent,n){r.next=12;break}t.dialog=!0,r.next=14;break;case 12:return r.next=14,t.$router.replace("/checkin/");case 14:r.next=31;break;case 16:return r.next=18,t.onLoad(!0);case 18:return r.next=20,t.register(e);case 20:if(i=r.sent,!i){r.next=27;break}return console.log(i),r.next=25,t.$store.dispatch("auth/login",{login:e.id,password:"USER".concat(btoa(e.id))});case 25:r.next=29;break;case 27:return r.next=29,t.$store.dispatch("auth/login",{login:e.id,password:"USER".concat(btoa(e.id))});case 29:return r.next=31,t.onLoad(!1);case 31:case"end":return r.stop()}}),r)})))()},loadProfile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/getProfile");case 2:if(!e.USER.id){t.next=14;break}return t.next=5,e.$store.dispatch("auth/getFullProfile",e.USER.id);case 5:if(r=t.sent,r){t.next=12;break}return t.next=9,e.getDorm();case 9:e.dialog=!0,t.next=14;break;case 12:return t.next=14,e.$router.replace("/checkin/");case 14:case"end":return t.stop()}}),t)})))()}})},u=c,l=(r("02c1"),r("2877")),d=r("6544"),p=r.n(d),h=r("c6a6"),m=r("8336"),f=r("b0af"),v=r("99d9"),g=r("169a"),b=r("ce7e"),w=r("132d"),x=r("f6c4"),k=r("8e36"),R=(r("b0c0"),r("2c64"),r("ba87")),O=r("9d26"),S=r("c37a"),j=r("7e2b"),C=r("a9ad"),y=r("4e82"),$=r("5311"),_=r("7560"),I=r("fe09"),E=r("80d2"),G=r("58df"),P=Object(G["a"])(j["a"],C["a"],$["a"],Object(y["a"])("radioGroup"),_["a"]),L=P.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses),this.groupClasses)},computedColor:function(){return I["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return S["a"].options.computed.computedId.call(this)},hasLabel:S["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly:function(){return this.readonly||!!this.radioGroup&&this.radioGroup.isReadonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return I["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(e){return I["a"].options.methods.genInput.call(this,"radio",e)},genLabel:function(){var e=this;return this.hasLabel?this.$createElement(R["a"],{on:{click:function(t){t.preventDefault(),e.onChange()}},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(E["n"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(O["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(Object(i["a"])({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(e){this.isFocused=!0,this.$emit("focus",e)},onBlur:function(e){this.isFocused=!1,this.$emit("blur",e)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(e){var t={staticClass:"v-radio",class:this.classes};return e("div",t,[this.genRadio(),this.genLabel()])}}),V=(r("a9e3"),r("ec29"),r("3d86"),r("604c")),q=r("8547"),D=Object(G["a"])(q["a"],V["a"],S["a"]),U=D.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},S["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},S["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var e=S["a"].options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel:function(){var e=S["a"].options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:V["a"].options.methods.onClick}}),F=r("2fa4"),A=r("8654"),B=Object(l["a"])(u,a,n,!1,null,"3ed2c791",null);t["default"]=B.exports;p()(B,{VAutocomplete:h["a"],VBtn:m["a"],VCard:f["a"],VCardText:v["b"],VCardTitle:v["c"],VDialog:g["a"],VDivider:b["a"],VIcon:w["a"],VMain:x["a"],VProgressLinear:k["a"],VRadio:L,VRadioGroup:U,VSpacer:F["a"],VTextField:A["a"]})}}]);
//# sourceMappingURL=chunk-7fc1030a.777c0252.js.map